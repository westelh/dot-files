# å¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œå¾Œã«ã‚­ãƒ¼å…¥åŠ›ã‚’å¾…ãŸãªã„
set wait_key=no

# ãƒ‘ã‚¤ãƒ—ã«æµã™å‰ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒ‡ã‚³ãƒ¼ãƒ‰ã™ã‚‹
set pipe_decode=yes
set pipe_sep="---mail separator---"

bind pager j next-line
bind pager k previous-line

macro index \cA <tag-pattern>~A<enter> "Tag all messages"
macro index \cu <tag-pattern>~U<enter> "Tag all unread messages"
macro index,pager 0 <pipe-message>~/.config/neomutt/sgpt_integration.sh<enter> "Shell GPTã§è¦ç´„ã™ã‚‹"

# Sidebar
set sidebar_visible
set sidebar_format = "%D%<F? [%F]>%* %<N?%N/>%S"
set sort=reverse-date-received

#View
set mailcap_path = ~/.config/neomutt/mailcap
auto_view text/html application/pdf
macro index,pager \cb "<pipe-message> urlscan<Enter>"
macro attach,compose \cb "<pipe-entry> urlscan<Enter>"

#Cache
set header_cache=/var/tmp/mutt/headers
set message_cachedir=/var/tmp/mutt/bodies
set certificate_file=~/.mutt/trust/certificates

source ~/.config/neomutt/solarized-dark-256.muttrc
color progress white red

# Imap
set realname = "Taisei Nishiumi"
set from = "nisyumidon@gmail.com"
set imap_user = "nisyumidon@gmail.com"
set imap_authenticators="oauthbearer:xoauth2"
set smtp_authenticators=${imap_authenticators}
set imap_oauth_refresh_command="~/.config/neomutt/mutt_oauth2.py ~/.config/neomutt/${imap_user}.tokens --encryption-pipe \"gpg --encrypt --recipient nisyumidon@gmail.com\""
set smtp_oauth_refresh_command=${imap_oauth_refresh_command}
set spoolfile=imaps://imap.gmail.com/
set folder=$spoolfile
set trash=+[Gmail]/ã‚´ãƒŸç®±
mailboxes -label "ğŸ“¥ å—ä¿¡ãƒˆãƒ¬ã‚¤" -poll -notify +Inbox
mailboxes -label "ğŸ—‘ï¸ ã”ã¿ç®±" -nopoll -nonotify +[Gmail]/ã‚´ãƒŸç®±
mailboxes -label "ğŸ“¦ ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–" -nopoll -nonotify +[Gmail]/ã™ã¹ã¦ã®ãƒ¡ãƒ¼ãƒ«
# Sync periodicaly
set mail_check_stats
set mail_check=90
set timeout=15
set imap_qresync
set imap_deflate

# Local
mailboxes -label HUCCãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ãƒ¼ã‚«ã‚¤ãƒ– ~/Mail/HUCC/Archive

